{"version":3,"sources":["userModel.js","rolModel.js","moduloModel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA","file":"models.js","sourcesContent":["qmatiq.factory('userModel', ['$http', '$cookies', 'URL', function($http, $cookies, URL){\n\tvar userModel = {};\n\n\tuserModel.doLogin = function(data){\n\t\treturn $http({\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\turl: URL+'usuarios/login',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tlogin: \t\tdata.login,\n\t\t\t\tclave: \t\tdata.clave,\n\t\t\t\tcodigo:  \tdata.codigo\n\t\t\t}\n\t\t}).success(function(response){\n\t\t\t//console.log(response);\n\t\t\t$cookies.put('auth', JSON.stringify(response));\n\t\t}).error(function(data, status, headers){\n\t\t\t//console.log(data, status, headers);\n\t\t});\n\t};\n\n\tuserModel.getAuthStatus\t= function(){\n\t\tvar status = $cookies.get('auth');\n\t\tif(status){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tuserModel.getUserObject = function(){\n\t\tvar userObj = angular.fromJson($cookies.get('auth'));\n\t\treturn userObj;\n\t};\n\n\tuserModel.doUserLogout = function(){\n\t\t$cookies.remove('auth');\n\t}\n\n\treturn userModel;\n\n}]);","qmatiq.factory('rolModel', [ '$http', 'URL', function($http, URL){\n\tvar rolModel = {};\n\t//Services Api\n\trolModel.getAll = function(){\n\t\treturn $http.get(URL+'cuentas/1/roles');\n\t};\n\n\trolModel.getRol = function(id){\n\t\treturn $http.get(URL+'roles/'+id);\n\t};\n\n\trolModel.getRolPermiso = function(id){\n\t\treturn $http.get(URL+'roles/'+id+'/permisos');\n\t};\n\n\trolModel.postRol = function(data){\n\t\treturn $http({\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\turl : URL+'roles',\n\t\t\tmethod : 'POST',\n\t\t\tdata : data\n\t\t});\n\t};\n\n\trolModel.putRol = function(id, data){\n\t\treturn $http.put(URL+'roles/'+id, data);\n\t};\n\n\trolModel.deleteRol = function(id){\n\t\treturn $http.delete(URL+'roles/'+id);\n\t};\n\t//prepararData POST y PUT\n\trolModel.prepararArrayModulos = function(permisos){\n\t\t//personalizando modulos\n\t\tvar _permisos = permisos;\n\t\tvar modulos = [];\n\t\tfor (var i = 0; i < _permisos.length; i++) {\n\t\t\tif(_permisos[i]['acceso'] == 1){\n\t\t\t\tmodulos.push(\n\t\t\t\t\t{ id : _permisos[i]['modulo_id'] }\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t\treturn modulos;\n\t};\n\n\trolModel.prepararData = function(data){\n\t\tvar mi_data = {\n\t\t\tnombre : data.nombre,\n\t\t\tcuenta_id : data.cuenta_id,\n\t\t\tmodulos : data.modulos\n\t\t};\n\t\treturn mi_data;\n\t};\n\n\treturn rolModel;\n}]);","qmatiq.factory('moduloModel', ['$http', 'URL', function($http, URL){\n\tvar moduloModel = {};\n\n\treturn moduloModel;\n}])"],"sourceRoot":"/source/"}