{"version":3,"sources":["rolModal.js","usuarioModal.js","estiloConsolaModal.js","deleteModal.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modals.js","sourcesContent":["qmatiq.controller('rolModal', ['$scope', '$uibModalInstance', 'Item', 'rolModel', 'recursos', 'constante',\n\tfunction($scope, $uibModalInstance, Item, rolModel, recursos, constante){\n\t\t//variables angularjs\n\t\tangular.extend($scope,{\n\t\t\trol: {},\n\t\t\tpermiso: {},\n\t\t\testadoForm : Item == 0 ? 0 : 1,//if con operador ternario\n\t\t});\n\t\t//Cargando permisos\n\t\trolModel.getRolPermiso(Item).success(function(responsePermisos){\n\t\t\t$scope.rol.permisos = responsePermisos.data;\n\t\t\t//cargando nombre de rol\n\t\t\tif(Item != 0){ \n\t\t\t\trolModel.getRol(Item).success(function(responseNombre){\n\t\t\t\t\t$scope.modalTitle \t= 'Editar Rol';\n\t\t\t\t\t$scope.rol.nombre \t= responseNombre.data.nombre;\n\t\t\t\t\t$scope.showModal \t= true;\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\t$scope.showModal = true;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//metodos\n\t\tangular.extend($scope, {\n\t\t\tchangeCheck: function(acceso){\n\t\t\t\treturn recursos.changeCheck(acceso);\n\t\t\t},\n\t\t\tchangePermiso: function(key, acceso){\n\t\t\t\treturn $scope.rol.permisos[key]['acceso'] = recursos.changeAcceso(acceso);\n\t\t\t},\n\t\t\tdoRoles: function(rolesFom, estadoForm){\n\t\t\t\tvar modulos = rolModel.prepararArrayModulos($scope.rol.permisos);\n\t\t\t\t//creando data \n\t\t\t\tvar data = { \n\t\t\t\t\tnombre: \t$scope.rol.nombre,\n\t\t\t\t\tcuenta_id: \tconstante.cuenta_id,\n\t\t\t\t\tmodulos: \tmodulos\n\t\t\t\t};\n\n\t\t\t\t//Nuevo Rol\n\t\t\t\tif(estadoForm == 0){\n\t\t\t\t\trolModel.postRol(data).success(function(response){\n\t\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t//Editar Rol\t\n\t\t\t\t\trolModel.putRol(Item, data).success(function(response){\n\t\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t},\n\t\t\tclose: function(){\n\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t}\n\t\t});\n\t}\n]);","qmatiq.controller('usuarioModal', ['$scope', '$uibModalInstance', 'Item', 'usuarioModel', 'rolModel', 'recursos', 'constante',\n\tfunction($scope, $uibModalInstance, Item, usuarioModel, rolModel, recursos, constante){\n\t\t//variables angularjs\n\t\tangular.extend($scope,{\n\t\t\tuser: {},\n\t\t\testadoForm : Item == 0 ? 0 : 1,//if con operador ternario\n\t\t});\n\t\t//Cargando roles\n\t\trolModel.getAll().success(function(response){\n\t\t\t$scope.roles = response.data;\n\t\t\t//cargando Usuario\n\t\t\tif(Item != 0){ \n\t\t\t\tusuarioModel.get(Item).success(function(response){\n\t\t\t\t\t$scope.modalTitle \t\t\t= 'Editar Usuario';\n\t\t\t\t\t$scope.user.nombre\t\t\t= response.data[0]['nombre'];\n\t\t\t\t\t$scope.user.email_trabajo\t= response.data[0]['email_trabajo'];\n\t\t\t\t\t$scope.selectedItem \t\t= response.data[0]['rol_id'];\n\t\t\t\t\t//carga locales de usuario\n\t\t\t\t\tusuarioModel.getUsuariosLocales(Item).success(function(responseLocal){\n\t\t\t\t\t\t$scope.locales \t\t= responseLocal.data;\n\t\t\t\t\t\t$scope.showModal \t= true;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tusuarioModel.getUsuariosLocales(Item).success(function(responseLocal){\n\t\t\t\t\t$scope.locales \t\t= responseLocal.data;\n\t\t\t\t\t$scope.showModal \t= true;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\t\n\t\t//metodos\n\t\tangular.extend($scope, {\n\t\t\tchangeSelect: function(){\n\t\t\t\treturn $scope.selectedItem;\n\t\t\t},\n\t\t\tchangeCheck: function(acceso){\n\t\t\t\treturn recursos.changeCheck(acceso);\n\t\t\t},\n\t\t\tchangeAcceso: function(key, acceso){\n\t\t\t\treturn $scope.locales[key]['acceso'] = recursos.changeAcceso(acceso);\n\t\t\t},\n\t\t\tdoUsuarios: function(usuarioForm, estadoForm){\n\t\t\t\tvar locales = usuarioModel.prepararArrayLocales($scope.locales);\n\n\t\t\t\tvar data = {\n\t\t\t\t\tnombre: \t\t$scope.user.nombre,\n\t\t\t\t\temail_trabajo: \t$scope.user.email_trabajo,\n\t\t\t\t\trol_id: \t\t$scope.selectedItem,\n\t\t\t\t\tsharedLocal: \tlocales\n\t\t\t\t};\n\t\t\t\t//Nuevo usuario\n\t\t\t\tif(estadoForm == 0){\n\t\t\t\t\tdata.cuenta_id = constante.cuenta_id;\n\t\t\t\t\tusuarioModel.post(data).success(function(response){\n\t\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t//Editar usuario\t\n\t\t\t\t\tusuarioModel.put(Item, data).success(function(response){\n\t\t\t\t\t\t$uibModalInstance.close(true);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t},\n\t\t\tclose: function(){\n\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t}\n\t\t});\n\t}\n]);","qmatiq.controller('estiloConsolaModal', [\n\t'$scope',\n\t'$uibModalInstance', \n\t'Item',\n\t'configuracionModel',\n\t'upload',\n\t'recursos',\n\t'constante',\n\t'$q', function(\n\t\t$scope, \n\t\t$uibModalInstance, \n\t\tItem,\n\t\tconfiguracionModel,\n\t\tupload,\n\t\trecursos, \n\t\tconstante,\n\t\t$q){\n\t\t//variables angularjs\n\t\tangular.extend( $scope, {\n\t\t\tdir: {},\n\t\t\tconfiguracion: Item,\n\t\t\tminicolorsCustomSettings: recursos.minicolors_predeterminado,\n\t\t});\n\t\t//Cargando datos\n\t\tconfiguracionModel.getAll().success(function(e){ \n\t\t\t$scope.configuracion.estilo_consola_principal_fondo_color \t= e.data.estilo_consola_principal_fondo_color;\n\t\t\t$scope.configuracion.estilo_consola_principal_texto_color \t= e.data.estilo_consola_principal_texto_color;\n\t\t\t$scope.configuracion.estilo_consola_secundario_fondo_color \t= e.data.estilo_consola_secundario_fondo_color;\n\t\t\t$scope.configuracion.estilo_consola_secundario_texto_color \t= e.data.estilo_consola_secundario_texto_color;\n\t\t\t//LOGO 1\n\t\t\tif(e.data.estilo_consola_logo1_archivo != null){\n\t\t\t\t$scope.dir.ec_logo1 \t= e.data.estilo_consola_logo1_archivo.nombre_logico;\n\t\t\t\t$scope.dir.ec_logo1_id \t= e.data.estilo_consola_logo1_archivo.id;\n\t\t\t}else{\n\t\t\t\t$scope.dir.ec_logo1_id \t= null;\n\t\t\t}\n\t\t\t//LOGO 2\n\t\t\tif(e.data.estilo_consola_logo2_archivo != null){\n\t\t\t\t$scope.dir.ec_logo2 \t= e.data.estilo_consola_logo2_archivo.nombre_logico;\n\t\t\t\t$scope.dir.ec_logo2_id \t= e.data.estilo_consola_logo1_archivo.id;\n\t\t\t}else{\n\t\t\t\t$scope.dir.ec_logo1_id \t= null;\n\t\t\t}\n\t\t\t//Mostrar el Ligthbox\n\t\t\t$scope.showModal \t= true;\n\n\t\t});\n\t\t//metodos\n\t\tangular.extend( $scope, {\n\t\t\tdoConsola: function(nameForm){\n\t\t\t\tvar logo1 = $scope.dir.file_logo1;\n\t\t\t\tvar logo2 = $scope.dir.file_logo2;\n\t\t\t\t$scope.configuracion.estilo_consola_logo1_archivo = $scope.dir.ec_logo1_id;\n\t\t\t\t$scope.configuracion.estilo_consola_logo2_archivo = $scope.dir.ec_logo2_id; \n\n\t\t\t\t$q.all(\n\t\t\t\t\t[\n\t\t\t\t\t\tupload.uploadFile(\n\t\t\t\t\t\t\tlogo1, \n\t\t\t\t\t\t\t$scope.configuracion.estilo_consola_logo1_archivo\n\t\t\t\t\t\t).then(function(res){\n\t\t\t\t\t\t\tif(res.data.data.length > 0){\n\t\t\t\t\t\t\t\t$scope.configuracion.estilo_consola_logo1_archivo = res.data.data[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tupload.uploadFile(\n\t\t\t\t\t\t\tlogo2, \n\t\t\t\t\t\t\t$scope.configuracion.estilo_consola_logo2_archivo\n\t\t\t\t\t\t).then(function(res){\n\t\t\t\t\t\t\tif(res.data.data.length > 0){\n\t\t\t\t\t\t\t\t$scope.configuracion.estilo_consola_logo2_archivo = res.data.data[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t]\n\t\t\t\t).then(function(){\n\t\t\t\t\t//console.log($scope.configuracion);\n\t\t\t\t\tconfiguracionModel.post($scope.configuracion).success(function(data){\t\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\n\t\t\tclose: function(){\n\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t}\n\t\t});\n\t\n}]);","qmatiq.controller('deleteModal', ['$scope', '$uibModalInstance', 'Item',\n\tfunction($scope, $uibModalInstance, Item){\n\t\t$scope.nombre = Item;\n\t\t//metodos\n\t\tangular.extend($scope, {\n\t\t\tclose: function(){\n\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t},\n\t\t\tdelete: function(){\n\t\t\t\t$uibModalInstance.close(true);\n\t\t\t}\n\t\t});\n\t}\n]);"],"sourceRoot":"/source/"}