{"version":3,"sources":["rolModal.js","usuarioModal.js","estiloConsolaModal.js","seguridadConsolaModal.js","deleteModal.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modals.js","sourcesContent":["qmatiq.controller('rolModal', ['$scope', '$uibModalInstance', 'Item', 'rolModel', 'recursos', 'constante',\r\n\tfunction($scope, $uibModalInstance, Item, rolModel, recursos, constante){\r\n\t\t//variables angularjs\r\n\t\tangular.extend($scope,{\r\n\t\t\trol: {},\r\n\t\t\tpermiso: {},\r\n\t\t\testadoForm : Item == 0 ? 0 : 1,//if con operador ternario\r\n\t\t});\r\n\t\t//Cargando permisos\r\n\t\trolModel.getRolPermiso(Item).success(function(responsePermisos){\r\n\t\t\t$scope.rol.permisos = responsePermisos.data;\r\n\t\t\t//cargando nombre de rol\r\n\t\t\tif(Item != 0){ \r\n\t\t\t\trolModel.getRol(Item).success(function(responseNombre){\r\n\t\t\t\t\t$scope.modalTitle \t= 'Editar Rol';\r\n\t\t\t\t\t$scope.rol.nombre \t= responseNombre.data.nombre;\r\n\t\t\t\t\t$scope.showModal \t= true;\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t$scope.showModal = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t//metodos\r\n\t\tangular.extend($scope, {\r\n\t\t\tchangeCheck: function(acceso){\r\n\t\t\t\treturn recursos.changeCheck(acceso);\r\n\t\t\t},\r\n\t\t\tchangePermiso: function(key, acceso){\r\n\t\t\t\treturn $scope.rol.permisos[key]['acceso'] = recursos.changeAcceso(acceso);\r\n\t\t\t},\r\n\t\t\tdoRoles: function(rolesFom, estadoForm){\r\n\t\t\t\tvar modulos = rolModel.prepararArrayModulos($scope.rol.permisos);\r\n\t\t\t\t//creando data \r\n\t\t\t\tvar data = { \r\n\t\t\t\t\tnombre: \t$scope.rol.nombre,\r\n\t\t\t\t\tcuenta_id: \tconstante.cuenta_id,\r\n\t\t\t\t\tmodulos: \tmodulos\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//Nuevo Rol\r\n\t\t\t\tif(estadoForm == 0){\r\n\t\t\t\t\trolModel.postRol(data).success(function(response){\r\n\t\t\t\t\t\t$uibModalInstance.close(true);\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t//Editar Rol\t\r\n\t\t\t\t\trolModel.putRol(Item, data).success(function(response){\r\n\t\t\t\t\t\t$uibModalInstance.close(true);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tclose: function(){\r\n\t\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n]);","qmatiq.controller('usuarioModal', ['$scope', '$uibModalInstance', 'Item', 'usuarioModel', 'rolModel', 'recursos', 'constante',\r\n\tfunction($scope, $uibModalInstance, Item, usuarioModel, rolModel, recursos, constante){\r\n\t\t//variables angularjs\r\n\t\tangular.extend($scope,{\r\n\t\t\tuser: {},\r\n\t\t\testadoForm : Item == 0 ? 0 : 1,//if con operador ternario\r\n\t\t});\r\n\t\t//Cargando roles\r\n\t\trolModel.getAll().success(function(response){\r\n\t\t\t$scope.roles = response.data;\r\n\t\t\t//cargando Usuario\r\n\t\t\tif(Item != 0){ \r\n\t\t\t\tusuarioModel.get(Item).success(function(response){\r\n\t\t\t\t\t$scope.modalTitle \t\t\t= 'Editar Usuario';\r\n\t\t\t\t\t$scope.user.nombre\t\t\t= response.data[0]['nombre'];\r\n\t\t\t\t\t$scope.user.email_trabajo\t= response.data[0]['email_trabajo'];\r\n\t\t\t\t\t$scope.selectedItem \t\t= response.data[0]['rol_id'];\r\n\t\t\t\t\t//carga locales de usuario\r\n\t\t\t\t\tusuarioModel.getUsuariosLocales(Item).success(function(responseLocal){\r\n\t\t\t\t\t\t$scope.locales \t\t= responseLocal.data;\r\n\t\t\t\t\t\t$scope.showModal \t= true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tusuarioModel.getUsuariosLocales(Item).success(function(responseLocal){\r\n\t\t\t\t\t$scope.locales \t\t= responseLocal.data;\r\n\t\t\t\t\t$scope.showModal \t= true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\r\n\t\t//metodos\r\n\t\tangular.extend($scope, {\r\n\t\t\tchangeSelect: function(){\r\n\t\t\t\treturn $scope.selectedItem;\r\n\t\t\t},\r\n\t\t\tchangeCheck: function(acceso){\r\n\t\t\t\treturn recursos.changeCheck(acceso);\r\n\t\t\t},\r\n\t\t\tchangeAcceso: function(key, acceso){\r\n\t\t\t\treturn $scope.locales[key]['acceso'] = recursos.changeAcceso(acceso);\r\n\t\t\t},\r\n\t\t\tdoUsuarios: function(usuarioForm, estadoForm){\r\n\t\t\t\tvar locales = usuarioModel.prepararArrayLocales($scope.locales);\r\n\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tnombre: \t\t$scope.user.nombre,\r\n\t\t\t\t\temail_trabajo: \t$scope.user.email_trabajo,\r\n\t\t\t\t\trol_id: \t\t$scope.selectedItem,\r\n\t\t\t\t\tsharedLocal: \tlocales\r\n\t\t\t\t};\r\n\t\t\t\t//Nuevo usuario\r\n\t\t\t\tif(estadoForm == 0){\r\n\t\t\t\t\tdata.cuenta_id = constante.cuenta_id;\r\n\t\t\t\t\tusuarioModel.post(data).success(function(response){\r\n\t\t\t\t\t\t$uibModalInstance.close(true);\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t//Editar usuario\t\r\n\t\t\t\t\tusuarioModel.put(Item, data).success(function(response){\r\n\t\t\t\t\t\t$uibModalInstance.close(true);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tclose: function(){\r\n\t\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n]);","qmatiq.controller('estiloConsolaModal', [\r\n\t'$scope',\r\n\t'$uibModalInstance', \r\n\t'Item', \r\n\t'recursos', \r\n\t'constante', function(\r\n\t\t$scope, \r\n\t\t$uibModalInstance, \r\n\t\tItem, \r\n\t\trecursos, \r\n\t\tconstante){\r\n\r\n\t\t//variables angularjs\r\n\t\tangular.extend( $scope, {\r\n\t\t\tshowModal: true,\r\n\t\t});\r\n\r\n\t\t$scope.customSettings = {position: 'top right',letterCase: 'uppercase'};\r\n\t\r\n}]);","qmatiq.controller('seguridadConsolaModal', ['$scope', '$uibModalInstance', 'Item', 'recursos', 'constante', \r\n\tfunction($scope, $uibModalInstance, Item, recursos, constante){\r\n\t\t//variables angularjs\r\n\t\tangular.extend( $scope, {\r\n\t\t\tshowModal: true,\r\n\t\t});\r\n\r\n\t\t//$scope.customSettings = {position: 'top right',letterCase: 'uppercase'};\r\n\r\n\t\t//metodos\r\n\t\tangular.extend($scope, {\r\n\t\t\tclose: function(){\r\n\t\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t\t}\r\n\t\t});\r\n\t\r\n}]);","qmatiq.controller('deleteModal', ['$scope', '$uibModalInstance', 'Item',\r\n\tfunction($scope, $uibModalInstance, Item){\r\n\t\t$scope.nombre = Item;\r\n\t\t//metodos\r\n\t\tangular.extend($scope, {\r\n\t\t\tclose: function(){\r\n\t\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t\t},\r\n\t\t\tdelete: function(){\r\n\t\t\t\t$uibModalInstance.close(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n]);"]}